<!DOCTYPE html>
<html>
  <head>
    <base href="/flutter_embedded_views.test/">
    <meta charset="UTF-8" />
    <title>Flutter MultiView Demo</title>
    <script src="./flutter.js"></script>
    <style>
      .flutter-info {
        margin: 20px;
      }
      .flutter-container {
        width: 600px;
        height: 300px;
        margin: 20px;
        border: 2px dashed #888;
      }
    </style>
  </head>
  <body>
    <div class="flutter-info">
      <a href="./origin.html">回到單一畫面頁面</a>
    </div>

    <div id="flutter_view_1" class="flutter-container"></div>
    <div id="flutter_view_2" class="flutter-container"></div>

    <script>
      window.addEventListener("load", function () {
        _flutter.loader.loadEntrypoint({
          onEntrypointLoaded: async function (engineInitializer) {
            const engine = await engineInitializer.initializeEngine({
              multiViewEnabled: true,
            });
            const appRunner = await engine.runApp();

            await appRunner.addView({
              hostElement: document.getElementById("flutter_view_1"),
              initialData: {
                greeting: "👋 Hello from View 1",
              },
              viewConstraints: {
                maxWidth: 600,
                maxHeight: 300,
              }
            });

            await appRunner.addView({
              hostElement: document.getElementById("flutter_view_2"),
              initialData: {
                greeting: "🌟 Welcome from View 2",
              },
              viewConstraints: {
                maxWidth: 600,
                maxHeight: 300,
              }
            });
          }
        });
      });
    </script>
  </body>
</html>
